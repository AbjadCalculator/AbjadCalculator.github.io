<html>
<head>
<title>Abjad Value Calculator</title>
<link href='pic/favicon.ico' rel='icon' type='image/x-icon'/>
<style>
textarea{
	background-color: #d4efff;
	font-size: 12pt;
	direction: rtl;
}
body{
	background-color: azure;
}
</style>
</head>

<body>
<center><table>
  <tr>
    <th>Abjad Value Calculator</th>
  </tr>
  <tr>
    <td>
	<textarea placeholder="...Start typing" id="box" rows="6" cols="75"></textarea>
	<br>
	<p id="abjad"></p>
	<p id="letters"></p>
	<p id="words"></p>
	<button id="kopyala">Copy Results: Click to 123</button></td>
  </tr>
  <tr>
    <td><center><a id="copyala"><img src="pic/abjad_png.png" alt="Ebced Hesapla" border="0"></img></a></center></td>
  </tr>
</table></center>
	
<script type="text/javascript" src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
<script type="text/javascript">

function copyToClipboard(text) {
	if (window.clipboardData && window.clipboardData.setData) {
		return clipboardData.setData("Text", text);
	}
	else if (document.queryCommandSupported && document.queryCommandSupported("copy")) {
		textarea = document.createElement("textarea");
  		textarea.textContent = text;
  		textarea.style.position = "fixed";
  		document.body.appendChild(textarea); textarea.select();
  		try {return document.execCommand("copy")}
  		catch (ex) {console.warn("Copy to clipboard failed.", ex); return false;}
		finally {document.body.removeChild(textarea)}
	}
}

function getSum(total,num){return total + num};

function val(yazı,harf,değer){
	rgxp = new RegExp(değer,'gim');
	text = yazı.toLowerCase();
	if (text.indexOf(harf) > -1){
		sonuc = text.split(harf).join(değer).match(rgxp).map(Number).reduce(getSum)
	}else{
		sonuc=0
	};
	return sonuc;
}

function letters (string) { return string.match(/[a-z]/gim).length }
function words(string) { return string.split(/\s+/).length }
function abjad (string) {
	ء = val(string,'ء','1');
	ا = val(string,'ا','1');
	آ = val(string,'آ','1');
	ٱ = val(string,'ٱ','1');
	أ = val(string,'أ','1');
	إ = val(string,'إ','1');
	ب = val(string,'ب','2');
	پ = val(string,'پ','2');
	ج = val(string,'ج','3');
	چ = val(string,'چ','3');
	د = val(string,'د','4');
	ه = val(string,'ه','5');
	ة = val(string,'ة','5');
	و = val(string,'و','6');
	ؤ = val(string,'ؤ','6');
	ز = val(string,'ز','7');
	ژ = val(string,'ژ','7');
	ح = val(string,'ح','8');
	ط = val(string,'ط','9');
	ی = val(string,'ی','10');
	ي = val(string,'ي','10');
	ئ = val(string,'ئ','10');
	ى = val(string,'ى','10');
	ک = val(string,'ک','20');
	ك = val(string,'ك','20');
	گ = val(string,'گ','20');
	ڭ = val(string,'ڭ','20');
	ل = val(string,'ل','30');
	م = val(string,'م','40');
	ن = val(string,'ن','50');
	س = val(string,'س','60');
	ع = val(string,'ع','70');
	ف = val(string,'ف','80');
	ڢ = val(string,'ڢ','80');
	ڤ = val(string,'ڤ','80');
	ص = val(string,'ص','90');
	ق = val(string,'ق','100');
	ڨ = val(string,'ڨ','100');
	ر = val(string,'ر','200');
	ش = val(string,'ش','300');
	ت = val(string,'ت','400');
	ث = val(string,'ث','500');
	خ = val(string,'خ','600');
	ذ = val(string,'ذ','700');
	ض = val(string,'ض','800');
	ظ = val(string,'ظ','900');
	غ = val(string,'غ','1000');
	return ء+ا+آ+ٱ+أ+إ+ب+پ+ج+چ+د+ه+ة+و+ؤ+ز+ژ+ح+ط+ی+ي+ئ+ى+ک+ك+گ+ڭ+ل+م+ن+س+ع+ف+ڢ+ڤ+ص+ق+ڨ+ر+ش+ت+ث+خ+ذ+ض+ظ+غ
}

$("#box").on('onkeydown',function(){
	inputValue = document.getElementById("box").value;
	
	document.getElementById("abjad").innerHTML = "Abjad Value: " + abjad(inputValue);
	document.getElementById("letters").innerHTML = "Letters: " + letters(inputValue);
	document.getElementById("words").innerHTML = "Words: " + words(inputValue);
	
	mesaj = "Abjad Value: " + abjad(inputValue) + "\n" + "Count of letters: " + letters(inputValue) + "\n" + "Count of words: " + words(inputValue);

	document.querySelector("#kopyala").onclick = function() {
		var result = copyToClipboard(mesaj);
		console.log("copied?", result);
	};
	document.querySelector("#copyala").onclick = function() {
		var result = copyToClipboard(mesaj);
		console.log("copied?", result);
	};
});
</script>
</body>
</html>
