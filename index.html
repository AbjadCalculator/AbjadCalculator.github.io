<!DOCTYPE html>
<html onkeydown='startwork(event)'>
<head>
<title>Abjad Value Calculator</title>
<meta name="viewport" content="width=device-width" />
<meta content='http://abjad.quran114.org/' property='og:url'/>
<meta content='Abjad Value Calculator' property='og:title'/>
<meta content='Online Abjad/Gematrical/Numerical Value Calculator' property='og:description'/>
<link href='pic/favicon.ico' rel='icon' type='image/x-icon'/>
<style>
body {
	background-color: azure;
}

#back {
    position: absolute;
    z-index: -1;
    opacity: 0.19;
    left: 50%;
    margin-left: -150.68px;
}

#book {
	padding-top: 38px;
}

textarea {
	background-color: #d4efff;
	border-radius: 2px;
	font-size: 14pt;
	direction: rtl;
	width: 50%;
	margin-left: 25%;
	background-image: url(pic/abjadback.png);
	background-repeat: no-repeat;
	background-size: contain;
	background-position: 50% 0%;
}

textarea:focus {
	background-image: url(pic/background.png);
	background-size: cover;
	background-color: #d4fff3;
}

#text {
	margin-left: 25%;
}

#baslik {
	font-size: large;
	text-align: center;
}

p {font-size: 13pt;}
button {font-size: 13pt;}

@media only screen and (max-width: 768px) {

th {font-size: 14pt;}
p {font-size: 14pt;}
button {font-size: 14pt;}
textarea {font-size: 14pt;}
	
}

@media only screen and (min-width: 425px) and (max-width: 768px) {

textarea {
	font-size: 14pt;
	width: 80%;
	margin-left: 10%;
}

#text {
	margin-left: 10%;
}
	
}

@media only screen and (max-width: 425px) {

textarea {
	font-size: 15pt;
	width: 90%;
	margin-left: 5%;
}

#text {
	margin-left: 5%;
}

}
	
@media only screen and (max-width: 375px) {
	
textarea {background-image: url(pic/abc.png)}

}

</style>
</head>

<body>
<p id="baslik">Abjad Value Calculator:</p>
<textarea placeholder="...Start typing" id="box" rows="6" cols="75"></textarea>
<br>
<div id="back"><img id="book" src="pic/book arabic.png"></img></div>
<div id="text">
	<p id="abjad"></p>
	<p id="letters"></p>
	<p id="words"></p>
	<button id="kopyala"> Copy Results </button>
</div>
	<p id="ا"></p>
	<p id="ب"></p>
	<p id="ج"></p>
	<p id="د"></p>
	<p id="ه"></p>
	<p id="و"></p>
	<p id="ز"></p>
	<p id="ح"></p>
	<p id="ط"></p>
	<p id="ی"></p>
	<p id="ک"></p>
	<p id="ل"></p>
	<p id="م"></p>
	<p id="ن"></p>
	<p id="س"></p>
	<p id="ع"></p>
	<p id="ف"></p>
	<p id="ص"></p>
	<p id="ق"></p>
	<p id="ر"></p>
	<p id="ش"></p>
	<p id="ت"></p>
	<p id="ث"></p>
	<p id="خ"></p>
	<p id="ذ"></p>
	<p id="ض"></p>
	<p id="ظ"></p>
	<p id="غ"></p>

<script type="text/javascript" src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
<script type="text/javascript">

function getSum(total,num){return total + num};

function val(yazı,harf,değer){
	rgxp = new RegExp(değer,'gim');
	text = yazı.toLowerCase();
	if (text.indexOf(harf) > -1){
		sonuc = text.split(harf).join(değer).match(rgxp).map(Number).reduce(getSum)
	}else{
		sonuc = 0
	};
	return sonuc;
}

function letters(string) { return string.match(/[ء-يﻻﻹﻷﻵ]/igm).length };

function ا(string) {
	ﻻ = string.match(/[ﻻ]/igm).length;
	ﻹ = string.match(/[ﻹ]/igm).length;
	ﻷ = string.match(/[ﻷ]/igm).length;
	ﻵ = string.match(/[ﻵ]/igm).length;
	return string.match(/[ءاآٱأإ]/igm).length + ﻻ + ﻹ + ﻷ + ﻵ
}
function ب(string) { return string.match(/[بپ]/igm).length }
function ج(string) { return string.match(/[جچ]/igm).length }
function د(string) { return string.match(/[د]/igm).length }
function ه(string) { return string.match(/[هة]/igm).length }
function و(string) { return string.match(/[وؤ]/igm).length }
function ز(string) { return string.match(/[زژ]/igm).length }
function ح(string) { return string.match(/[ح]/igm).length }
function ط(string) { return string.match(/[ط]/igm).length }
function ی(string) { return string.match(/[یيئى]/igm).length }
function ک(string) { return string.match(/[کكگڭ]/igm).length }
function ل(string) { 
	ﻻ = string.match(/[ﻻ]/igm).length;
	ﻹ = string.match(/[ﻹ]/igm).length;
	ﻷ = string.match(/[ﻷ]/igm).length;
	ﻵ = string.match(/[ﻵ]/igm).length;
	return string.match(/[ل]/igm).length + ﻻ + ﻹ + ﻷ + ﻵ
}
function م(string) { return string.match(/[م]/igm).length }
function ن(string) { return string.match(/[ن]/igm).length }
function س(string) { return string.match(/[س]/igm).length }
function ع(string) { return string.match(/[ع]/igm).length }
function ف(string) { return string.match(/[فڢڤ]/igm).length }
function ص(string) { return string.match(/[ص]/igm).length }
function ق(string) { return string.match(/[قڨ]/igm).length }
function ر(string) { return string.match(/[ر]/igm).length }
function ش(string) { return string.match(/[ش]/igm).length }
function ت(string) { return string.match(/[ت]/igm).length }
function ث(string) { return string.match(/[ث]/igm).length }
function خ(string) { return string.match(/[خ]/igm).length }
function ذ(string) { return string.match(/[ذ]/igm).length }
function ض(string) { return string.match(/[ض]/igm).length }
function ظ(string) { return string.match(/[ظ]/igm).length }
function غ(string) { return string.match(/[غ]/igm).length }

function words(string){
	y = string.split(/\s+/).filter(
		function(string){
			word = string.match(/[ء-يﻻﻹﻷﻵ]+/igm);
			return word && word[0].length > 0;
		}
	);
	return y.length;
}

function abjad (string) {
	ء = val(string,'ء','1');
	ا = val(string,'ا','1');
	آ = val(string,'آ','1');
	ٱ = val(string,'ٱ','1');
	أ = val(string,'أ','1');
	إ = val(string,'إ','1');
	ب = val(string,'ب','2');
	پ = val(string,'پ','2');
	ج = val(string,'ج','3');
	چ = val(string,'چ','3');
	د = val(string,'د','4');
	ه = val(string,'ه','5');
	ة = val(string,'ة','5');
	و = val(string,'و','6');
	ؤ = val(string,'ؤ','6');
	ز = val(string,'ز','7');
	ژ = val(string,'ژ','7');
	ح = val(string,'ح','8');
	ط = val(string,'ط','9');
	ی = val(string,'ی','10');
	ي = val(string,'ي','10');
	ئ = val(string,'ئ','10');
	ى = val(string,'ى','10');
	ک = val(string,'ک','20');
	ك = val(string,'ك','20');
	گ = val(string,'گ','20');
	ڭ = val(string,'ڭ','20');
	ل = val(string,'ل','30');
	م = val(string,'م','40');
	ن = val(string,'ن','50');
	س = val(string,'س','60');
	ع = val(string,'ع','70');
	ف = val(string,'ف','80');
	ڢ = val(string,'ڢ','80');
	ڤ = val(string,'ڤ','80');
	ص = val(string,'ص','90');
	ق = val(string,'ق','100');
	ڨ = val(string,'ڨ','100');
	ر = val(string,'ر','200');
	ش = val(string,'ش','300');
	ت = val(string,'ت','400');
	ث = val(string,'ث','500');
	خ = val(string,'خ','600');
	ذ = val(string,'ذ','700');
	ض = val(string,'ض','800');
	ظ = val(string,'ظ','900');
	غ = val(string,'غ','1000');

	ﻻ = val(string,'ﻻ','31');
	ﻹ = val(string,'ﻹ','31');
	ﻷ = val(string,'ﻷ','31');
	ﻵ = val(string,'ﻵ','31');
	return ء+ا+آ+ٱ+أ+إ+ب+پ+ج+چ+د+ه+ة+و+ؤ+ز+ژ+ح+ط+ی+ي+ئ+ى+ک+ك+گ+ڭ+ل+م+ن+س+ع+ف+ڢ+ڤ+ص+ق+ڨ+ر+ش+ت+ث+خ+ذ+ض+ظ+غ+ﻻ+ﻹ+ﻷ+ﻵ
}

function startwork(event){
	box = document.getElementById("box");
	if ( box === document.activeElement ){}else{
		box.focus();
	}
}

$('#box').on('input', function (event) { 
    this.value = this.value.replace(/[^ء-ي ﻻﻹﻷﻵ]/igm, '');
});

function copyToClipboard(text) {
	if (window.clipboardData && window.clipboardData.setData) {
		return clipboardData.setData("Text", text);
	}
	else if (document.queryCommandSupported && document.queryCommandSupported("copy")) {
		textarea = document.createElement("textarea");
  		textarea.textContent = text;
  		textarea.style.position = "fixed";
  		document.body.appendChild(textarea); textarea.select();
  		try {return document.execCommand("copy")}
  		catch (ex) {console.warn("Copy to clipboard failed.", ex); return false;}
		finally {document.body.removeChild(textarea)}
	}
}

$("#box").keyup( function(){

	inputValue = $(this).val();

	if( abjad(inputValue) ) {

if (abjad(inputValue) % 19 === 0) {ebced = abjad(inputValue) + " = 19 × " + abjad(inputValue)/19}else{ebced = abjad(inputValue)}
if (letters(inputValue) % 19 === 0) {harf = letters(inputValue) + " = 19 × " + letters(inputValue)/19}else{harf = letters(inputValue)}
if (words(inputValue) % 19 === 0) {kelime = words(inputValue) + " = 19 × " + words(inputValue)/19}else{kelime = words(inputValue)}

if (ا(inputValue) % 19 === 0) {ا = ا(inputValue) + " = 19 × " + ا(inputValue)/19}else{ا = ا(inputValue)}
if (ب(inputValue) % 19 === 0) {ب = ب(inputValue) + " = 19 × " + ب(inputValue)/19}else{ب = ب(inputValue)}
if (ج(inputValue) % 19 === 0) {ج = ج(inputValue) + " = 19 × " + ج(inputValue)/19}else{ج = ج(inputValue)}
if (د(inputValue) % 19 === 0) {د = د(inputValue) + " = 19 × " + د(inputValue)/19}else{د = د(inputValue)}
if (ه(inputValue) % 19 === 0) {ه = ه(inputValue) + " = 19 × " + ه(inputValue)/19}else{ه = ه(inputValue)}
if (و(inputValue) % 19 === 0) {و = و(inputValue) + " = 19 × " + و(inputValue)/19}else{و = و(inputValue)}
if (ز(inputValue) % 19 === 0) {ز = ز(inputValue) + " = 19 × " + ز(inputValue)/19}else{ز = ز(inputValue)}
if (ح(inputValue) % 19 === 0) {ح = ح(inputValue) + " = 19 × " + ح(inputValue)/19}else{ح = ح(inputValue)}
if (ط(inputValue) % 19 === 0) {ط = ط(inputValue) + " = 19 × " + ط(inputValue)/19}else{ط = ط(inputValue)}
if (ی(inputValue) % 19 === 0) {ی = ی(inputValue) + " = 19 × " + ی(inputValue)/19}else{ی = ی(inputValue)}
if (ک(inputValue) % 19 === 0) {ک = ک(inputValue) + " = 19 × " + ک(inputValue)/19}else{ک = ک(inputValue)}
if (ل(inputValue) % 19 === 0) {ل = ل(inputValue) + " = 19 × " + ل(inputValue)/19}else{ل = ل(inputValue)}
if (م(inputValue) % 19 === 0) {م = م(inputValue) + " = 19 × " + م(inputValue)/19}else{م = م(inputValue)}
if (ن(inputValue) % 19 === 0) {ن = ن(inputValue) + " = 19 × " + ن(inputValue)/19}else{ن = ن(inputValue)}
if (س(inputValue) % 19 === 0) {س = س(inputValue) + " = 19 × " + س(inputValue)/19}else{س = س(inputValue)}
if (ع(inputValue) % 19 === 0) {ع = ع(inputValue) + " = 19 × " + ع(inputValue)/19}else{ع = ع(inputValue)}
if (ف(inputValue) % 19 === 0) {ف = ف(inputValue) + " = 19 × " + ف(inputValue)/19}else{ف = ف(inputValue)}
if (ص(inputValue) % 19 === 0) {ص = ص(inputValue) + " = 19 × " + ص(inputValue)/19}else{ص = ص(inputValue)}
if (ق(inputValue) % 19 === 0) {ق = ق(inputValue) + " = 19 × " + ق(inputValue)/19}else{ق = ق(inputValue)}
if (ر(inputValue) % 19 === 0) {ر = ر(inputValue) + " = 19 × " + ر(inputValue)/19}else{ر = ر(inputValue)}
if (ش(inputValue) % 19 === 0) {ش = ش(inputValue) + " = 19 × " + ش(inputValue)/19}else{ش = ش(inputValue)}
if (ت(inputValue) % 19 === 0) {ت = ت(inputValue) + " = 19 × " + ت(inputValue)/19}else{ت = ت(inputValue)}
if (ث(inputValue) % 19 === 0) {ث = ث(inputValue) + " = 19 × " + ث(inputValue)/19}else{ث = ث(inputValue)}
if (خ(inputValue) % 19 === 0) {خ = خ(inputValue) + " = 19 × " + خ(inputValue)/19}else{خ = خ(inputValue)}
if (ذ(inputValue) % 19 === 0) {ذ = ذ(inputValue) + " = 19 × " + ذ(inputValue)/19}else{ذ = ذ(inputValue)}
if (ض(inputValue) % 19 === 0) {ض = ض(inputValue) + " = 19 × " + ض(inputValue)/19}else{ض = ض(inputValue)}
if (ظ(inputValue) % 19 === 0) {ظ = ظ(inputValue) + " = 19 × " + ظ(inputValue)/19}else{ظ = ظ(inputValue)}
if (غ(inputValue) % 19 === 0) {غ = غ(inputValue) + " = 19 × " + غ(inputValue)/19}else{غ = غ(inputValue)}
	
	$("#abjad").html("ABJAD Value: " + ebced);
	$("#letters").html("Number of LETTERS: " + harf);
	$("#words").html("Number of WORDS: " + kelime);

	mesaj = "ABJAD Value: " + ebced + "\n" + "Number of LETTERS: " + harf + "\n" + "Number of WORDS: " + kelime;

	$("#ا").html("Number of Aleph: " + ا);
	$("#ب").html("Number of Aleph: " + ب);
	$("#ج").html("Number of Aleph: " + ج);
	$("#د").html("Number of Aleph: " + د);
	$("#ه").html("Number of Aleph: " + ه);
	$("#و").html("Number of Aleph: " + و);
	$("#ز").html("Number of Aleph: " + ز);
	$("#ح").html("Number of Aleph: " + ح);
	$("#ط").html("Number of Aleph: " + ط);
	$("#ی").html("Number of Aleph: " + ی);
	$("#ک").html("Number of Aleph: " + ک);
	$("#ل").html("Number of Aleph: " + ل);
	$("#م").html("Number of Aleph: " + م);
	$("#ن").html("Number of Aleph: " + ن);
	$("#س").html("Number of Aleph: " + س);
	$("#ع").html("Number of Aleph: " + ع);
	$("#ف").html("Number of Aleph: " + ف);
	$("#ص").html("Number of Aleph: " + ص);
	$("#ق").html("Number of Aleph: " + ق);
	$("#ر").html("Number of Aleph: " + ر);
	$("#ش").html("Number of Aleph: " + ش);
	$("#ت").html("Number of Aleph: " + ت);
	$("#ث").html("Number of Aleph: " + ث);
	$("#خ").html("Number of Aleph: " + خ);
	$("#ذ").html("Number of Aleph: " + ذ);
	$("#ض").html("Number of Aleph: " + ض);
	$("#ظ").html("Number of Aleph: " + ظ);
	$("#غ").html("Number of Aleph: " + غ);
}else{
	$("#abjad").html("");
	$("#letters").html("");
	$("#words").html("");
	mesaj = "";
};
	document.querySelector("#kopyala").onclick = function() {
		var result = copyToClipboard(mesaj);
		console.log("copied?", result);
	};
});
</script>
</body>
</html>
